name = "healerbook"
main = "workers/fflogs-proxy.ts"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat_v2"]

[assets]
not_found_handling = "single-page-application"
run_worker_first = ["/api/*"]

[[kv_namespaces]]
binding = "healerbook"
id = "b2d47d0e3be342248906a82ea3a540d5"

# 开发环境
[env.development]
[env.development.vars]
ENVIRONMENT = "development"
FFLOGS_API_URL = "https://www.fflogs.com/v1"

# 生产环境
[env.production]
[env.production.vars]
ENVIRONMENT = "production"
FFLOGS_API_URL = "https://www.fflogs.com/v1"
RATE_LIMIT_RPM = "30"
CACHE_TTL = "3600"

# Secrets (通过 wrangler secret 设置)
# v1 API
# wrangler secret put FFLOGS_API_KEY
#
# v2 API (OAuth)
# wrangler secret put FFLOGS_CLIENT_ID
# wrangler secret put FFLOGS_CLIENT_SECRET
